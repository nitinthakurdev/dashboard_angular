<main class="p-7">
    <h1 class="text-5xl font-medium  ">TO-DO</h1>
    <div class="flex w-full justify-between pe-10 py-5" >
        <label for="" class="w-[30%] relative" >
            <input type="text" class=" h-10 w-full rounded-full px-10"  placeholder="Search" >
            <mat-icon class="absolute top-[50%] left-3 -translate-y-[50%] text-gray-400" >search</mat-icon>
        </label>
         <button class="bg-green-400 py-1 px-6 rounded-md text-white" (click)="handleModel(true)" >ADD TASK</button>
    </div>
    <div>
        <div class="md:py-5 py-5 md:px-16 px-5  bg-gray-50 rounded-b"  *ngFor="let val of data;index as i ">
            <div class="px-4">
                <div class="border-b pb-4 border-gray-400 border-dashed flex  items-center justify-between">
                    <div class="flex-1" >
                        <p class="text-xs font-light py-3 leading-3 text-gray-500 ">{{formatDate(val.date)}}</p>
                        <a tabindex="0"
                            class="focus:outline-none text-lg font-medium leading-5 text-gray-800  mt-2">{{val.title}}</a>
                        <p class="text-sm pt-2  text-gray-600 ">{{val.Description}}</p>
                    </div>
                    <div class="flex-1 flex  justify-center">
                        <span class="bg-green-400 text-white px-4 py-1 rounded-full"
                            [ngClass]="{'bg-yellow-400':val.status === 'pending'}">{{val.status}}</span>
                            
                            
                    </div>
                    <div class="flex-1 flex  justify-center relative">
                        <mat-icon (click)="handleShow(true)" class="cursor-pointer flex" (click)="handleIndex(i)"  >more_vert</mat-icon>
                        <div *ngIf="showOption && indexValue === i"  class=" flex-col bg-gray-100 rounded-md overflow-hidden absolute top-0 right-32 w-36  "    >
                            <div class="text-right px-2 pt-2" >
                                <mat-icon class="cursor-pointer" (click)="handleShow(false)"  >cancel</mat-icon>
                            </div>
                            <button class="w-full py-2 hover:bg-blue-500 hover:text-white " (click)="EditTask(val)" >Edit</button>
                            <button class="w-full py-2 hover:bg-red-500 hover:text-white " (click)="DeleteTodo(val.id)" >Delete</button>
                            <button class="w-full py-2 hover:bg-green-500 hover:text-white " (click)="UpdateData(val.id,'complete')"  >Complete</button>
                        </div>
                    </div>
        
                </div>
        
        
        
            </div>
        </div>
    </div>
    <div *ngIf="showModal" >
        
        <app-modal (toggle)="handleModel($event)" (CreateTodo)="submitData($event)" [updateData]="updateData"  (Updatetodo)="Updatetodo($event)" ></app-modal> 
    </div>
</main>